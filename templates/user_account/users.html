{%  extends 'base.html' %}
{% load static %}

{% block css_block %}
<link href="{% static "assets/plugins/custom/datatables/datatables.bundle.css"%}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block page_title %}
 Users
{% endblock %}

{% block subheader-item %}

{% endblock %}

{% block subheader-button %}
<!--begin::Button-->
<a href="#" id="kt_drawer_example_advanced_button" class="btn btn-sm btn-primary me-3" ><i class="bi bi-funnel-fill fs-4 me-2"></i> Filter</a>
<!--end::Button-->
{% endblock %}


{% block body %}

<!--begin::body-->
<div class="card card-flush shadow-sm">
  
    <div class="card-body py-5">
        <!--begin::Section-->
        <div class="p-0">
            <!--begin::Datatable-->
            <table id="kt_datatable_example_1" class="table align-middle table-row-dashed fs-6 gy-5 chart_scrol">
                <thead>
                <tr class="text-start text-gray-400 fw-bolder fs-6 text-uppercase gs-0 table_header h1-font-size">                    
                    <th class="user">User</th>
                    <th class="first_name">First Name</th>
                    <th class="last_name">Last Name</th>
                    <th class="email">Email</th>
                    <th class="team">Team</th>
                    <th class="team_name">Team</th>
                    <th class="sub_team">Work Group</th>
                    <th class="sub_team_name">Work Group</th>
                    <th class="role">Role</th>
                    <th class="role_name">Role</th>
                    <th class="is_active">Is Active</th>
                    <th class="is_block">Is Blocked</th>
                    <th class="groups">Group</th>
                    <th class="id">id</th>
                    <th class="edit">Edit</th>
                </tr>
                </thead>
                <tbody class="text-gray-600 fw-bold fs-5">
                </tbody>
                <tfoot>
                    <tr class="text-start text-gray-400 fw-bolder fs-6 text-uppercase gs-0">
                        <th>User</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Email</th>
                        <th>Team</th>
                        <th>Team</th>
                        <th>Work Group</th>
                        <th>Work Group</th>
                        <th>Role</th>
                        <th>Role</th>
                        <th>Is Active</th>
                        <th>Is Blocked</th>
                        <th>Group</th>
                        <th>id</th>
                        <th>Edit</th>
                    </tr>
                </tfoot>
            </table>
            <!--end::Datatable-->
        </div>
        <!--end::Section-->
    </div>
</div>
<!--end::body-->

<!--begin::search draw-->
<div id="kt_drawer_example_advanced" class="bg-white card" data-kt-drawer="true" data-kt-drawer-activate="true" data-kt-drawer-toggle="#kt_drawer_example_advanced_button" data-kt-drawer-close="#kt_drawer_example_advanced_close" data-kt-drawer-name="docs" data-kt-drawer-width="500px">
    <div class="card-header card-header-stretch">
        <div class="card-toolbar">
            <ul class="nav nav-tabs nav-line-tabs nav-stretch fs-6 border-0">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" href="#date_filter">Filter</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="card-body">
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="date_filter" role="tabpanel">
                <div class="col-12" id="search_form">                                
                    <div class="form-group">
                        <div class="form-floating mb-7">                                
                            <input type="text" class="form-control form-control-solid kt-input" id="floatingPassword" placeholder=" " data-col-index="0" />
                            <label for="floatingPassword">Inumber</label>
                        </div>
                        <div class="form-floating mb-7">                                
                            <input type="text" class="form-control form-control-solid kt-input" id="floatingPassword" placeholder=" " data-col-index="1" />
                            <label for="floatingPassword">First Name</label>
                        </div>
                        <div class="form-floating mb-7">                                
                            <input type="text" class="form-control form-control-solid kt-input" id="floatingPassword" placeholder=" " data-col-index="2" />
                            <label for="floatingPassword">Last Name</label>
                        </div>
                        <div class="form-floating mb-7">                                
                            <input type="text" class="form-control form-control-solid kt-input" id="floatingPassword" placeholder=" " data-col-index="3" />
                            <label for="floatingPassword">Email</label>
                        </div>
                                                    
                        <div class="form-floating mb-7">
                            <select class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Teams" data-allow-clear="true" multiple="multiple" data-col-index="4">
                                {%for tm in team%}
                                    <option value="{{tm.code}}">{{tm.name}}</option>
                                {%endfor%}
                            </select>
                        </div>

                        <div class="form-floating mb-7">
                            <select class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Work Group" data-allow-clear="true" multiple="multiple" data-col-index="6">
                                {%for stm in sub_team%}
                                    <option value="{{stm.code}}">{{stm.name}}</option>
                                {%endfor%}
                            </select>
                        </div>
                        <div class="form-floating mb-7">
                            <select class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Roles" data-allow-clear="true" multiple="multiple" data-col-index="8">
                                {%for ro in role%}
                                    <option value="{{ro.code}}">{{ro.name}}</option>
                                {%endfor%}
                            </select>
                        </div>
                        <div class="form-floating mb-7">
                            <select class="form-select form-select-solid kt-input" id="floatingSelect" aria-label="Floating label select example" data-col-index="10">
                                <option selected value="">Both</option>
                                <option value="true">Yes</option>
                                <option value="false">No</option>
                            </select>
                            <label for="floatingSelect">Is Active</label>
                        </div>
                        <div class="form-floating mb-7">
                            <select class="form-select form-select-solid kt-input" id="floatingSelect" aria-label="Floating label select example" data-col-index="11">
                                <option selected value="">Both</option>
                                <option value="true">Yes</option>
                                <option value="false">No</option>
                            </select>
                            <label for="floatingSelect">Is Blocked</label>
                        </div>
                        <div class="form-floating mb-7">
                            <select class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Group" data-allow-clear="true" multiple="multiple" data-col-index="12">
                                {%for gp in group%}
                                    <option value="{{gp.id}}">{{gp.name}}</option>
                                {%endfor%}
                            </select>
                        </div>
                        <div>
                            <select class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Permission" data-allow-clear="true" multiple="multiple" data-col-index="13">
                                {%for per in permission%}
                                    <option value="{{per.id}}">{{per.codename}}</option>
                                {%endfor%}
                            </select>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <button type="button" style="margin-right: 30px;" class="btn btn-light" id="m_reset">Reset</button>
                    <button type="button" class="btn btn-primary float-right" id="m_search">Search</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!--end::search draw-->

<!--begin::EDIT-MODEL-->
<div class="modal fade" tabindex="-1" id="kt_model_view">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-gray-700">User Info</h5>

                <!--begin::Close-->
                <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
                    <span class="svg-icon svg-icon-2x"></span>
                </div>
                <!--end::Close-->
            </div>

            <div class="modal-body">
                <div class="input-group mb-5" id="user_card_div">
                    
                </div>

                <div class="form-floating mb-7">
                    <select id="change_team_dropdown" class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Teams" data-allow-clear="true">
                        {%for tm in team%}
                            <option value="{{tm.code}}">{{tm.name}}</option>
                        {%endfor%}
                    </select>
                </div>

                <div class="form-floating mb-7">
                    <select id="change_sub_team_dropdown" class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Work Group" data-allow-clear="true">
                        {%for stm in sub_team%}
                            <option value="{{stm.code}}">{{stm.name}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="form-floating mb-7">
                    <select id="change_role_dropdown" class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Roles" data-allow-clear="true">
                        {%for ro in role%}
                            <option value="{{ro.code}}">{{ro.name}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="form-floating mb-7">
                    <select id="change_group_dropdown" class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Group" data-allow-clear="true" multiple="multiple">
                        {%for gp in group%}
                            <option value="{{gp.id}}">{{gp.name}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="form-floating mb-7">
                    <select id="change_permission_dropdown" class="form-select form-select-lg form-select-solid kt-input SCODE" data-control="select2" data-placeholder="Permission" data-allow-clear="true" multiple="multiple">
                        {% for per in permission %}
                            <option value="{{per.id}}">{{per.codename}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="form-check form-switch form-check-custom form-check-solid mb-5">
                            <input class="form-check-input" type="checkbox" value="" id="checkbox_is_active"/>
                            <label class="form-check-label" for="checkbox_is_active">
                                Is Active
                            </label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-check form-switch form-check-custom form-check-solid">
                            <input class="form-check-input" type="checkbox" value="" id="checkbox_is_blocked"/>
                            <label class="form-check-label" for="checkbox_is_blocked">
                                Is Blocked
                            </label>
                        </div>
                    </div>
                </div>

            </div>

            <div id="user_info_footer" class="modal-footer">
                
            </div>
        </div>
    </div>
</div>
<!--end::EDIT-MODEL-->

{% endblock %}

{% block js_block %}
<script>var tabel_name = "{{tabel_name}}";var default_query_filter = "{{default_query_filter}}"; var query_api_url = "{{query_api_url}}"</script>
<script src="{% static "assets/plugins/custom/datatables/datatables.bundle.js"%}"></script>
<script src="{% static "assets/js/custom_datatable_function.js"%}"></script>
<script src="{% static "assets/js/pages/user_account/users_datatable.js"%}" type="text/javascript"></script>
<script src="{% static "assets/js/pages/user_account/datatable_initiate.js"%}" type="text/javascript"></script>
<script src="{% static "assets/js/pages/user_account/view_user_info.js"%}" type="text/javascript"></script>
<script src="{% static "assets/js/pages/user_account/user_action.js"%}" type="text/javascript"></script>
{% endblock %}
